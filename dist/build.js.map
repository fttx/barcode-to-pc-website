/*!
 * Start Bootstrap - New Age v3.3.7 (http://startbootstrap.com/template-overviews/new-age)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under  ()
 */
{"version":3,"sources":["utils.js","main.js","new-age.js","config.js","marketing.js"],"names":["setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toGMTString","document","cookie","getCookie","name","decodedCookie","decodeURIComponent","ca","split","i","length","c","charAt","substring","indexOf","setupVideo","macbook","getElementById","iphone","video","fitToContainer","macbookCtx","getContext","iphoneCtx","addEventListener","$this","this","loop","paused","ended","drawImage","width","height","setTimeout","play","canvas","style","offsetWidth","offsetHeight","$","scrollspy","target","offset","click","affix","top","jQuery","CONFIG_MARKETING_SERVER_URL","attr","gtag","event_category","event_label","e","replace","event","preventDefault","window","scrollTop","location","hash","scroll","currentPosition","each","index","sectionPosition","sectionHeight","outerHeight","removeClass","eq","addClass","trigger","showAdsDialog","afterSeconds","get","response","country","ip","adsTimeout","clearTimeout","modal","viewsCountBeforeAcquisition","parseInt","COOKIE_VIEWS_COUNT_BEFORE_ACQUSITION","subscribe","email","campaignId","listener","firstName","lastName","splice","join","post","utcOffset","getTimezoneOffset","data","COOKIE_USER_ACQUIRED","alert","fail","COOKIE_DID_CLICK_DOWNLOAD","submit","val","hide","prop","form","fadeIn","html"],"mappings":"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","file":"build.js","sourcesContent":["\nfunction setCookie(cname, cvalue, exdays) {\n    var d = new Date();\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n    var expires = \"expires=\" + d.toGMTString();\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\n\nfunction getCookie(cname) {\n    var name = cname + \"=\";\n    var decodedCookie = decodeURIComponent(document.cookie);\n    var ca = decodedCookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n","$(function () {\n    setupVideo();\n\n    $('#download-server a, #download-app a').click(function () {\n        switch ($(this).attr('id')) {\n            case 'win':\n                gtag('event', 'download_server', {\n                    'event_category': 'download',\n                    'event_label': 'win',\n                });\n\n                gtag('event', 'bonjour_distribution');\n                break;\n\n            case 'macos':\n                gtag('event', 'download_server', {\n                    'event_category': 'download',\n                    'event_label': 'macos',\n                });\n                break;\n\n            case 'linux':\n                gtag('event', 'download_server', {\n                    'event_category': 'download',\n                    'event_label': 'linux',\n                });\n                break;\n\n            case 'ios':\n                gtag('event', 'download_app', {\n                    'event_category': 'download',\n                    'event_label': 'ios',\n                });\n                break;\n            case 'android':\n                gtag('event', 'download_app', {\n                    'event_category': 'download',\n                    'event_label': 'android',\n                });\n                break;\n        }\n    });\n\n    $('#github_app, #github_server').click(function (e) {\n        gtag('event', 'view_source', {\n            'event_category': 'view',\n            'event_label': $(this).attr('id').replace('github_', ''),\n        });\n    });\n\n    $('a[href^=\"#\"]').click(function (event) {\n        event.preventDefault();\n        $(window).scrollTop($($(this).attr('href')).offset().top - 76);\n    });\n\n    if (window.location.hash.length !== 0) {\n        setTimeout(function () {\n            $(window).scrollTop($(location.hash).offset().top - 76);\n        }, 0)\n    }\n\n    $(window).scroll(function () {\n        var currentPosition = $(window).scrollTop() + 78;\n\n        $('.menu-section').each(function (index) {\n            var sectionPosition = $(this).offset().top,\n                sectionHeight = $(this).outerHeight();\n            // console.log(currentPosition >= sectionPosition, currentPosition, sectionHeight, $(this).attr('id'))\n            if (currentPosition >= sectionPosition && currentPosition < sectionPosition + sectionHeight) {\n                $('.nav a').removeClass('nav-selected')\n                $('.nav a').eq(index).addClass('nav-selected')\n                return false;\n            } else {\n                $('.nav a').eq(index).removeClass('nav-selected')\n            }\n        });\n    }).trigger('scroll');\n\n    if ($('#faq').length) {\n        $('#menu-faq').addClass('nav-selected')\n    }\n\n    if ($('.blog').length) {\n        $('#menu-blog').addClass('nav-selected')\n    }\n})\n\n\nfunction setupVideo() {\n    var macbook = document.getElementById('macbook');\n    var iphone = document.getElementById('iphone');\n    var video = document.getElementById('video');\n\n    if (!macbook) { return }\n\n    fitToContainer(macbook);\n    fitToContainer(iphone);\n\n    var macbookCtx = macbook.getContext('2d');\n    var iphoneCtx = iphone.getContext('2d');\n\n    video.addEventListener('play', function () {\n        var $this = this; //cache\n        (function loop() {\n            if (!$this.paused && !$this.ended) {\n                macbookCtx.drawImage($this, 0, 0, 739.2, 462, 0, 0, macbook.width, macbook.height);\n                iphoneCtx.drawImage($this, 740, 0, 262, 462, 0, 0, iphone.width, iphone.height);\n                setTimeout(loop, 1000 / 20); // drawing at 20fps\n            }\n        })();\n    }, 0);\n\n    video.play();\n}\n\nfunction fitToContainer(canvas) {\n    // Make it visually fill the positioned parent\n    canvas.style.width = '100%';\n    canvas.style.height = '100%';\n    // ...then set the internal size to match\n    canvas.width = canvas.offsetWidth;\n    canvas.height = canvas.offsetHeight;\n}","(function ($) {\n    \"use strict\"; // Start of use strict\n\n    // jQuery for page scrolling feature - requires jQuery Easing plugin\n    // $('a.page-scroll').bind('click', function (event) {\n    //     var target = $($(this).attr('href'));\n    //     if (target.length) {\n    //         $('html, body').stop().animate({\n    //             scrollTop: (target.offset().top - 50)\n    //         }, 1250, 'easeInOutExpo');\n    //         event.preventDefault();\n    //     }\n    // });\n\n    // Highlight the top nav as scrolling occurs\n    $('body').scrollspy({\n        target: '.navbar-fixed-top',\n        offset: 100\n    });\n\n    // Closes the Responsive Menu on Menu Item Click\n    $('.navbar-collapse ul li a').click(function () {\n        $('.navbar-toggle:visible').click();\n    });\n\n    // Offset for Main Navigation\n    $('#mainNav').affix({\n        offset: {\n            top: 50\n        }\n    })\n\n})(jQuery); // End of use strict\n","// CONFIG_MARKETING_SERVER_URL = 'http://localhost:8880';\nCONFIG_MARKETING_SERVER_URL = 'https://marketing.barcodetopc.com';","$(function () {\n\n    ////////// ADS MODAL //////////\n    var adsTimeout = null;\n    var COOKIE_VIEWS_COUNT_BEFORE_ACQUSITION = 'viewsCountBeforeAcquisition';\n    var COOKIE_USER_ACQUIRED = 'userAcquired';\n    var COOKIE_DID_CLICK_DOWNLOAD = 'didClickDownload';\n    var country = null;\n    var ip = null;\n\n    if (!getCookie(COOKIE_USER_ACQUIRED)) {\n        if (getCookie(COOKIE_DID_CLICK_DOWNLOAD)) { // if the user already saw the popup but didn't subscribe\n            showAdsDialog(5);\n        } else { // if it is the first time that the user visits the website\n            showAdsDialog(90);\n        }\n    }\n\n    $('#download-server a, #download-app a').click(function () {\n        setCookie(COOKIE_DID_CLICK_DOWNLOAD, true)\n        if (!getCookie(COOKIE_USER_ACQUIRED)) {\n            showAdsDialog(5);\n        }\n    });\n\n    $('#ads-form').submit(function (e) {\n        subscribe($('#ads-name').val(), $('#ads-email').val(), 1, function () {\n            $('#ads-modal').modal('hide');\n\n            gtag('event', 'ads_modal', {\n                'event_category': 'marketing',\n                'event_label': 'user_acquired',\n            });\n        })\n        return false;\n    });\n\n    function showAdsDialog(afterSeconds) {\n        $.get(\"https://ipinfo.io\", function (response) {\n            country = response.country;\n            ip = response.ip;\n        }, \"jsonp\");\n\n        // $.get(\"https://api.ipdata.co\", function (response) {\n        //     country = response.country_code;\n        //     ip = response.ip;\n        // }, \"jsonp\");\n        if (adsTimeout) clearTimeout(adsTimeout);\n        adsTimeout = setTimeout(function () {\n            $('#ads-modal').modal('show');\n            var viewsCountBeforeAcquisition = parseInt(getCookie(COOKIE_VIEWS_COUNT_BEFORE_ACQUSITION) || 0);\n            setCookie(COOKIE_VIEWS_COUNT_BEFORE_ACQUSITION, viewsCountBeforeAcquisition + 1)\n            gtag('event', 'ads_modal', {\n                'event_category': 'marketing',\n                'event_label': 'show_modal',\n            });\n        }, 1000 * afterSeconds)\n    }\n\n\n    ////////// COMMENTS //////////\n    if (getCookie(COOKIE_USER_ACQUIRED)) {\n        $('.comment-form-email-consent-container').hide();\n    }\n    $('.comment-form').submit(function (e) {\n        if (getCookie(COOKIE_USER_ACQUIRED) || !$('#comment-form-email-consent-checkbox').prop('checked')) {\n            return true;\n        }\n        e.preventDefault();\n        var form = $(this);\n        subscribe($('#author').val(), $('#email').val(), 2, function () {\n            gtag('event', 'comment', {\n                'event_category': 'marketing',\n                'event_label': 'user_acquired',\n            });\n            form.submit()\n        })\n    });\n\n\n    ////////// IS-HELPFUL //////////\n    $('.is-helpful-yes').click(function () {\n        $('.is-helpful-question').hide();\n        $('.is-helpful-subscribe-form').fadeIn();\n    })\n\n    $('.is-helpful-no').click(function () {\n        $('.is-helpful-question').hide();\n        $('.is-helpfull-support').fadeIn();\n    })\n\n    $('.is-helpful-subscribe').click(function () {\n        subscribe($('.is-helpful-name').val(), $('.is-helpful-email').val(), 3, function () {\n            gtag('event', 'is-helpful', {\n                'event_category': 'marketing',\n                'event_label': 'user_acquired',\n            });\n            $('.is-helpful-subscribe-form').html('Thank you!');\n        })\n    })\n\n\n    ////////// NEWSLETTER //////////\n    $('.newsletter-button').click(function () {\n        subscribe($('.newsletter-name').val(), $('.newsletter-email').val(), 4, function () {\n            gtag('event', 'is-helpful', {\n                'event_category': 'marketing',\n                'event_label': 'user_acquired',\n            });\n            $('.newsletter-form').html('Thank you!');\n        })\n    })\n\n    function subscribe(name, email, campaignId, listener) {\n        name = name.split(' ');\n        var firstName = name[0];\n        var lastName = name.splice(1, name.length - 1).join(' ');\n        var viewsCountBeforeAcquisition = parseInt(getCookie(COOKIE_VIEWS_COUNT_BEFORE_ACQUSITION) || 0);\n\n        $.post(CONFIG_MARKETING_SERVER_URL + '/addUser', {\n            firstName: firstName,\n            lastName: lastName,\n            email: email,\n            ip: ip,\n            country: country,\n            utcOffset: new Date().getTimezoneOffset(),\n            campaignId: campaignId,\n            viewsCountBeforeAcquisition: viewsCountBeforeAcquisition,\n        }, function (data) {\n            if (data == 'OK') {\n                setCookie(COOKIE_USER_ACQUIRED, true)\n                listener();\n            } else {\n                alert('An error occurred, please try later')\n            }\n        }).fail(function () {\n            alert('An error occurred, please try later')\n        });\n    }\n})"]}